import{ah as A,ai as N,U as g,O as j,P as E,M as R,h as S,I as Y,S as k,aj as F,J as U,a as q,_ as C,ak as K,L as z,X as G,V as $,a7 as I,al as H,G as J,e as x,w as V,am as y,an as w,ao as X,ap as Z,g as P,aq as Q,s as W,v as ee,ar as re,j as se,as as te,at as ae,ag as ie,au as ne,av as fe,aw as ue,ax as ce,ay as D,az as p}from"./BlY_6KIf.js";import{c as oe}from"./NAkjo8Y0.js";class le{anchor;#r=new Map;#s=new Map;#e=new Map;#t=!0;constructor(e,t=!0){this.anchor=e,this.#t=t}#a=()=>{var e=A;if(this.#r.has(e)){var t=this.#r.get(e),s=this.#s.get(t);if(s)N(s);else{var a=this.#e.get(t);a&&(this.#s.set(t,a.effect),this.#e.delete(t),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),s=a.effect)}for(const[i,f]of this.#r){if(this.#r.delete(i),i===e)break;const n=this.#e.get(f);n&&(g(n.effect),this.#e.delete(f))}for(const[i,f]of this.#s){if(i===t)continue;const n=()=>{if(Array.from(this.#r.values()).includes(i)){var o=document.createDocumentFragment();k(f,o),o.append(E()),this.#e.set(i,{effect:f,fragment:o})}else g(f);this.#s.delete(i)};this.#t||!s?j(f,n,!1):n()}}};#i=e=>{this.#r.delete(e);const t=Array.from(this.#r.values());for(const[s,a]of this.#e)t.includes(s)||(g(a.effect),this.#e.delete(s))};ensure(e,t){var s=A,a=F();if(t&&!this.#s.has(e)&&!this.#e.has(e))if(a){var i=document.createDocumentFragment(),f=E();i.append(f),this.#e.set(e,{effect:R(()=>t(f)),fragment:i})}else this.#s.set(e,R(()=>t(this.anchor)));if(this.#r.set(s,e),a){for(const[n,u]of this.#s)n===e?s.skipped_effects.delete(u):s.skipped_effects.add(u);for(const[n,u]of this.#e)n===e?s.skipped_effects.delete(u.effect):s.skipped_effects.add(u.effect);s.oncommit(this.#a),s.ondiscard(this.#i)}else S&&(this.anchor=Y),this.#a()}}function ve(r,e,t=!1){S&&q();var s=new le(r),a=t?C:0;function i(f,n){if(S){const o=K(r)===z;if(f===o){var u=G();$(u),s.anchor=u,I(!1),s.ensure(f,n),I(!0);return}}s.ensure(f,n)}U(()=>{var f=!1;e((n,u=!0)=>{f=!0,i(u,n)}),f||i(!1,null)},a)}function T(r,e){return r===e||r?.[y]===e}function be(r={},e,t,s){return H(()=>{var a,i;return J(()=>{a=i,i=[],x(()=>{r!==t(...i)&&(e(r,...i),a&&T(t(...a),r)&&e(null,...a))})}),()=>{V(()=>{i&&T(t(...i),r)&&e(null,...i)})}}),r}const de={get(r,e){if(!r.exclude.includes(e))return r.props[e]},set(r,e){return!1},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function ge(r,e,t){return new Proxy({props:r,exclude:e},de)}const he={get(r,e){let t=r.props.length;for(;t--;){let s=r.props[t];if(p(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s)return s[e]}},set(r,e,t){let s=r.props.length;for(;s--;){let a=r.props[s];p(a)&&(a=a());const i=w(a,e);if(i&&i.set)return i.set(t),!0}return!1},getOwnPropertyDescriptor(r,e){let t=r.props.length;for(;t--;){let s=r.props[t];if(p(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s){const a=w(s,e);return a&&!a.configurable&&(a.configurable=!0),a}}},has(r,e){if(e===y||e===D)return!1;for(let t of r.props)if(p(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(r){const e=[];for(let t of r.props)if(p(t)&&(t=t()),!!t){for(const s in t)e.includes(s)||e.push(s);for(const s of Object.getOwnPropertySymbols(t))e.includes(s)||e.push(s)}return e}};function Pe(...r){return new Proxy({props:r},he)}function Se(r,e,t,s){var a=!ie||(t&ne)!==0,i=(t&ae)!==0,f=(t&ue)!==0,n=s,u=!0,o=()=>(u&&(u=!1,n=f?x(s):s),n),d;if(i){var L=y in r||D in r;d=w(r,e)?.set??(L&&e in r?c=>r[e]=c:void 0)}var h,m=!1;i?[h,m]=oe(()=>r[e]):h=r[e],h===void 0&&s!==void 0&&(h=o(),d&&(a&&X(),d(h)));var l;if(a?l=()=>{var c=r[e];return c===void 0?o():(u=!0,c)}:l=()=>{var c=r[e];return c!==void 0&&(n=void 0),c===void 0?n:c},a&&(t&Z)===0)return l;if(d){var M=r.$$legacy;return(function(c,v){return arguments.length>0?((!a||!v||M||m)&&d(v?l():c),c):l()})}var b=!1,_=((t&fe)!==0?se:te)(()=>(b=!1,l()));i&&P(_);var B=ee;return(function(c,v){if(arguments.length>0){const O=v?P(_):a&&i?Q(c):c;return W(_,O),b=!0,n!==void 0&&(n=O),c}return ce&&b||(B.f&re)!==0?_.v:P(_)})}export{le as B,be as b,ve as i,Se as p,ge as r,Pe as s};
